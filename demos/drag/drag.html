<!DOCTYPE html>
<html>
	<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>Draggable</title>
	<link href="../style.css" media="all" rel="stylesheet" type="text/css" />
	</head>
<body>
	<div class="header">
		<div class="container">
			<div class="header-brand">
				<strong><a href="#">Stone</a></strong>
			</div>
		</div>
	</div>
	<div class="container">
		<div class="bubble">
			<span class="name">Draggable</span>
			<article class="content">
				<div id="drag1" class="drag" style="width:200px;height:150px;">Drag Me!</div>
			</article>
			<article class="content">
				<div style="position:relative;border:1px solid #ccc;width: 100%;height:300px">
	      			<div id="drag2" class="drag" style="width:200px;height:150px;">
						<div id="title" class="title">Drag Me!</div>
						<div>content</div>
					</div>
				</div>
			</article>
			<article class="content">
				<pre><code id="source"></code></pre>
			</article>
		</div>
	</div>
</body>
<script type="text/javascript" src="../jquery.min.js"></script>
<script type="text/javascript" src="../main.js"></script>
<script type="text/javascript" src="../../src/js/core.js"></script>
<script type="text/javascript" src="../../src/js/draggable.js"></script>
<script type="text/javascript" id="script">
$(function(){
	var d1 = $('#drag1').drag({revert : true, proxy : 'clone'});
	var d2 = new stone.Drag($('#drag2'), {
		handle:'#title',
		onDrag : function (e){
			var d = e.data;
			if (d.left < 0){d.left = 0}
			if (d.top < 0){d.top = 0}
			if (d.left + $(d.target).outerWidth() > $(d.parent).width()){
				d.left = $(d.parent).width() - $(d.target).outerWidth();
			}
			if (d.top + $(d.target).outerHeight() > $(d.parent).height()){
				d.top = $(d.parent).height() - $(d.target).outerHeight();
			}
		}
	});
	
});
</script>
</html>